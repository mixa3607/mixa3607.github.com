---
title: AMI Megarac SP 2.02.76714
sidebar_position: 10
tags:
  - bmc
  - lga4189p4
  - motherboard
---

import CodeBlock from "@theme/CodeBlock";
import partitiontable from "!!raw-loader!./partitions-table.json";

# Axiomtek AMI Megarac SP 2.02.76714

AMI Megarac SP 2.02.76714

```ini
FW_VERSION=2.02.76714
FW_DATE=Aug 8 2022
FW_BUILDTIME=14:45:58 CST
FW_DESC=RR10 AST2500 KERN3 BUILD 2
FW_PRODUCTID=1
FW_RELEASEID=RR9
FW_CODEBASEVERSION=3.X
```

<details>
  <summary>Screenshot</summary>

![bmc web ui screenshot](./bmc-screenshot.png)

</details>

## –ü—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è (?)

### –ö–∞–∂–µ—Ç—Å—è –∏–ª–∏ –≤ BMC –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–º?

–ù–µ –∫–∞–∂–µ—Ç—Å—è. –ù–µ —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø–æ–ø—É–≥–∞–∏ –≤ BMC, –Ω–æ –≤–æ–ª—å—Ç–∞–∂ –∏ –æ–±–æ—Ä–æ—Ç—ã –≤–µ—Ä—Ç—É—à–µ–∫ —Ç–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç (—Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥–æ —Å–æ—Ç–µ–Ω)

### –ù–µ –º–æ–≥—É –ø–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É —á–µ—Ä–µ–∑ –¥–∂–∞–≤—É

–ü–æ–ª–Ω—ã–π –º–∞–Ω—É–∞–ª —á—Ç–æ –∏ –∫–∞–∫ –º–æ–∂–Ω–æ [–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—É—Ç](/docs/wiki/hardware/modding-and-hacks/megarac-sp/java-console/index.md), –æ—Ç–ª–∏—á–∏–µ —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —á—Ç–æ –ü1 –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Å–≤—è–∑–∫–µ —Å [BMC 2.02.76714](#axiomtek-ami-megarac-sp-20276714)

## Dumps

| Name                                             | SN         | MAC BMC; shared; 1; 2;                                  | About                  | Download                                                                                      |
| ------------------------------------------------ | ---------- | ------------------------------------------------------- | ---------------------- | --------------------------------------------------------------------------------------------- |
| IMB760_BMC_mixa3607_F8CC6E033B82_zero-boot.bin   | 1118199395 | F8CC6E033B82; F8CC6E033CAE; F8CC6E033DDA; F8CC6E033F06; | zero boot/facory image | [dump](@storageBaseUrl@/Axiomtek-IMB760/BMC/IMB760_BMC_mixa3607_F8CC6E033B82_zero-boot.bin)   |
| IMB760_BMC_mixa3607_F8CC6E033BA3_zero-boot.bin   | 1118199428 | F8CC6E033BA3; F8CC6E933CCF; F8CC6E033DFB; F8CC6E033F27; | zero boot/facory image | [dump](@storageBaseUrl@/Axiomtek-IMB760/BMC/IMB760_BMC_mixa3607_F8CC6E033BA3_zero-boot.bin)   |
| IMB760_BMC_mixa3607_F8CC6E033BF2_configured.bin  | 1118199507 | F8CC6E033BF2; F8CC6E033D1E; F8CC6E033E4A; F8CC6E033F76; | configured after boot  | [dump](@storageBaseUrl@/Axiomtek-IMB760/BMC/IMB760_BMC_mixa3607_F8CC6E033BF2_configured.bin)  |
| IMB760_BMC_EvILLIDAN_F8CC6E033B9D_configured.bin |            | F8CC6E033B9D; ; ; ;                                     | configured after boot  | [dump](@storageBaseUrl@/Axiomtek-IMB760/BMC/IMB760_BMC_EvILLIDAN_F8CC6E033B9D_configured.bin) |

–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —á—Ç–æ –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–π –∑–∞–≤–æ–¥—Å–∫–æ–π BMC –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤ `SN: 1118199428` +-, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ª–∏–±–æ —Ç–æ—á–Ω–æ –ø–æ—Å–ª–µ –±—É—Ç–∞, –ª–∏–±–æ –Ω–µ —Ç–æ—á–Ω–æ. –î–∞–º–ø –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ç–æ—á–Ω–æ –µ—Å—Ç—å —Å–µ—Ç—å `SN: 1118199507`, –º–∞–∫–∏ –≤–∞–ª–∏–¥—ã–Ω—ã–µ —Å—Ç–æ—è—Ç –≤ u-boot env var —Å–µ–∫—Ü–∏–∏.

## Change BMC fan thresholds

```console
$ sudo ipmitool sensor thresh FAN1 lower  0 0 0
Locating sensor record 'FAN1'...
Setting sensor "FAN1" Lower Non-Recoverable threshold to 0.000
Setting sensor "FAN1" Lower Critical threshold to 0.000
Setting sensor "FAN1" Lower Non-Critical threshold to 0.000

$ # run prev command for all FANx
$ sudo ipmitool sensor list all
+12V             | 12.100     | Volts      | ok    | 9.600     | 10.200    | 10.800    | 13.200    | 13.800    | 14.400
+5V              | 4.928      | Volts      | ok    | 4.510     | 4.620     | 4.752     | 5.258     | 5.368     | 5.500
+3.3V            | 3.300      | Volts      | ok    | 2.978     | 3.051     | 3.139     | 3.460     | 3.548     | 3.635
+5VSB            | 4.906      | Volts      | ok    | 4.510     | 4.620     | 4.752     | 5.258     | 5.368     | 5.500
+3VSB            | 3.285      | Volts      | ok    | 2.978     | 3.051     | 3.139     | 3.460     | 3.548     | 3.635
SYS1_TEMP        | 31.000     | degrees C  | ok    | -40.000   | -30.000   | -20.000   | 70.000    | 90.000    | 100.000
CPU1_TEMP        | 37.000     | degrees C  | ok    | -40.000   | -30.000   | -20.000   | 100.000   | 110.000   | 120.000
SYS2/CPU2_TEMP   | 37.000     | degrees C  | ok    | -40.000   | -30.000   | -20.000   | 100.000   | 110.000   | 120.000
FAN1             | 1200.000   | RPM        | ok    | 0.000     | 0.000     | 0.000     | 31000.000 | 32000.000 | 33000.000
FAN2             | 1000.000   | RPM        | ok    | 0.000     | 0.000     | 0.000     | 31000.000 | 32000.000 | 33000.000
FAN3             | 0.000      | RPM        | nr    | 0.000     | 0.000     | 0.000     | 31000.000 | 32000.000 | 33000.000
FAN4             | 1000.000   | RPM        | ok    | 0.000     | 0.000     | 0.000     | 31000.000 | 32000.000 | 33000.000
FAN5             | 0.000      | RPM        | nr    | 0.000     | 0.000     | 0.000     | 31000.000 | 32000.000 | 33000.000
FAN6             | 0.000      | RPM        | nr    | 0.000     | 0.000     | 0.000     | 31000.000 | 32000.000 | 33000.000
FAN7             | 0.000      | RPM        | nr    | 0.000     | 0.000     | 0.000     | 31000.000 | 32000.000 | 33000.000
FAN8             | 0.000      | RPM        | nr    | 0.000     | 0.000     | 0.000     | 31000.000 | 32000.000 | 33000.000
```

–ö–∞–∫ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–Ω–∫—É —Å—á–∏—Ç–∞—Ç—å 0 –æ–±–æ—Ä–æ—Ç–æ–≤ –Ω–æ—Ä–º–æ–π –Ω–µ –Ω–∞—à—ë–ª, –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –≤—ã–≤–∞–ª–∏–≤–∞—é—Ç—Å—è –≤ `non rec` mode

## Get BIOS POST codes from BMC

- command `0x32 0x73`
- arg `0x00/0x01`
  - `0x00` - current boot
  - `0x01` - prev boot

```consle
$ ipmitool -H 192.168.1.212 -U admin -P admin raw 0x32 0x73 0x00
 a3 a3 a3 a7 a9 a7 a7 a7 a7 a9 a9 a9 a8 aa ae af
 e0 e0 e0 e1 e4 e3 e5 af b0 b0 7e cf 7e cd b0 b0
 7e b0 c1 b1 b1 b1 7e b4 b4 b4 c2 7e b0 7e b1 b1
 b1 b1 b4 7e b4 b4 b4 b8 c5 b2 c7 b3 b3 b3 b3 b3
 b3 b3 b3 b3 b6 b6 b6 b7 b6 b6 b6 b6 b7 b7 b7 b7
 b7 7e b0 be 7e 7e b0 d6 7e b4 b4 b4 c7 c7 b7 b7
 b7 b7 b7 b7 b7 b7 b7 b7 b8 b8 b8 b8 b8 b8 b8 b8
 b8 c9 ba b9 cb 7e bb bb bb bb bb bb bb bb bb bb
 bb bb bb 7e 7e d0 7e d0 d0 7e d0 7e d1 7e d1 7e
 ca ca b7 d3 7e cc bc bc bc bc bc bc bc bc bc ce
 bf af e6 e7 e9 eb ec ed ee 4f 33 60 61 9a 68 70
 79 90 91 92 94 94 94 94 94 94 94 94 94 94 ef 92
 92 92 92 92 92 92 92 92 99 44 45 91 92 92 92 92
 92 92 92 92 92 92 97 b2 98 99 9d 9a 9c 92 a0 a2
 a2 a0 a2 a2 a2 a2 a2 a2 a2 a2 a0 a0 99 92 92 92
 92 92 92 92 92 92 ad af b1 b1 84 ee aa e3 e3 e3
$ ipmitool -H 192.168.1.212 -U admin -P admin raw 0x32 0x73 0x01
 19 11 32 31 a1 a3 a3 a3 a3 a3 a3 a7 a9 aa a9 ab
 ab ab af e0 e0 b0 b5 b0 7e cf 7e cd b0 b0 7e b0
 c1 b1 b1 b1 7e b4 b4 b4 c2 7e b0 7e b1 af af
```

## Manual fan control

~~–°–ø–æ—Å–æ–±–∞ –∫—Ä—É—Ç–∏—Ç—å –æ–±–æ—Ä–æ—Ç—ã –∏–∑ BMC –Ω–∞–π–¥–µ–Ω–æ –Ω–µ –±—ã–ª–æ, –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏ –Ω–µ –æ—á–µ–Ω—å `impi raw` –∫–æ–º–∞–Ω–¥—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç~~
–°–ø–æ—Å–æ–± –Ω–∞–π–¥–µ–Ω, –Ω–æ –æ–Ω —Å –µ–±–∞–Ω—Ü–æ–π. –î–ª—è –Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å sh –ø–æ [–º–∞–Ω—É–∞–ª—É –æ—Ç—Å—é–¥–∞](/docs/wiki/hardware/modding-and-hacks/megarac-sp/bak2shell%20hack/index.mdx) –∏ —Ä—É–ª–∏—Ç—å –≤–µ—Ä—Ç—É—à–∫–∞–º–∏ –º–æ–∂–Ω–æ —Ç–∞–∫:

```console
~ # i2c-test -b 0 -s 0x28 -w -d 0x60 0xFF
i2c_dev = /dev/i2c0
Bytes written:   2
60 ff
```

_–í–∫—É—Å–Ω–æ?_ **–ù–µ –æ—á–µ–Ω—å.** –ü–µ—Ä–µ—Ä—ã–ª —Å –∏–¥–æ–π –∏ –¥–∂–µ–º–∏–Ω–∏/–∂–ø—Ç –ø–æ–ª–æ–≤–∏–Ω—É –±–º—Ü –ª–∏–± –Ω–æ –Ω–µ –Ω–∞—à—ë–ª –∫–∞–∫ —ç—Ç–æ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `ipmi raw` –ø—Ä–æ—Ç–æ–ª–∫–Ω—É—Ç—å :/

<details>
  <summary>–ù–µ–º–Ω–æ–≥–æ —ç–∫—Å–ø–ª–µ–π–Ω–∞ –≤ —ç—Ç–æ –æ—Ç –¥–∂–µ–º–∏–Ω–∏</summary>
  <CodeBlock>

```
~ # i2c-test --scan
Scanning the I2C Bus...this may take a while...
X
.......X.........................X.....X......X....................X...X..............
.........................X...............
Done!¬† Found 8 valid slave address(es)
Slave list:
0x00
0x10
0x44
0x50
0x5e
0x88
0x90
0xe0
~ # ls /dev/i2c-*
/dev/i2c-0¬† /dev/i2c-1¬† /dev/i2c-2¬† /dev/i2c-3¬† /dev/i2c-4¬† /dev/i2c-5¬† /dev/i2c-6¬† /dev/i2c-7¬† /dev/i2c-8
```

–£—Ç–∏–ª–∏—Ç–∞ `i2c-test`, —Å—É–¥—è –ø–æ –≤—Å–µ–º—É, –≤—ã–≤–æ–¥–∏—Ç 8-–±–∏—Ç–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ (—Å —É—á–µ—Ç–æ–º –±–∏—Ç–∞ —á—Ç–µ–Ω–∏–π/–∑–∞–ø–∏—Å–∏), –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ Linux –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 7-–±–∏—Ç–Ω—ã–µ.

- **0x50** –≤ 8-–±–∏—Ç–Ω–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ ‚Äî —ç—Ç–æ **0x28** –≤ 7-–±–∏—Ç–Ω–æ–º (`0x28 << 1 = 0x50`). –≠—Ç–æ –≤–∞—à –ø–µ—Ä–≤—ã–π **NCT7802** (FAN1-3).
- **0x5E** –≤ 8-–±–∏—Ç–Ω–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ ‚Äî —ç—Ç–æ **0x2F** –≤ 7-–±–∏—Ç–Ω–æ–º (`0x2F << 1 = 0x5E`). –≠—Ç–æ –≤–∞—à –≤—Ç–æ—Ä–æ–π **NCT7802** (FAN4-6).

–ß–∏–ø NCT7802 —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä—ã **PWM Duty Cycle**.

**Slave –∞–¥—Ä–µ—Å–∞ (7-bit):** `0x28` (–ø–µ—Ä–≤—ã–π —á–∏–ø) –∏ `0x2F` (–≤—Ç–æ—Ä–æ–π —á–∏–ø).
**–†–µ–≥–∏—Å—Ç—Ä—ã PWM:** \* `0x60` ‚Äî FAN1 / FAN4, `0x61` ‚Äî FAN2 / FAN5, `0x62` ‚Äî FAN3 / FAN6
**–ó–Ω–∞—á–µ–Ω–∏—è:** –æ—Ç `0x00` (—Å—Ç–æ–ø) –¥–æ `0xFF` (100% —Å–∫–æ—Ä–æ—Å—Ç—å).

</CodeBlock>
</details>

### BMC modding / MAC restore

:::warning üößUnder constructionüöß
:::

<details>
  <summary>`partitions table`</summary>
  <CodeBlock language="json" title="partitions-table.json">
    {partitiontable}
  </CodeBlock>
</details>
